<section>
    <header>
        <button class="icon-export" ng-click="showExportModal()">{{ 'email.logging.export' | translate }}</button>
        <button class="icon-filter motech-sidebar-button">{{ 'email.logging.filters' | translate }}</button>
    </header>
    <table>
        <thead>
            <tr>
                <th>{{"ID"|translate}}</th>
                <th>{{"Status"|translate}}</th>
                <th>{{"To"|translate}}</th>
                <th>{{"From"|translate}}</th>
                <th>{{"Subject"|translate}}</th>
                <th>{{"Delivery Time"|translate}}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="log in logs">
                <td >{{log.id}}</td> 
                <td >{{log.deliveryStatus}}</td>
                <td >{{log.toAddress}}</td>
                <td >{{log.fromAddress}}</td>
                <td >{{log.subject}}</td>
                <td >{{log.deliveryTime}}</td>
            </tr>
        </tbody>
    </table>
    <footer>
        <uib-pagination total-items="totalItems" ng-model="currentPage" ng-change="changePageTo(currentPage)"></uib-pagination>
    </footer>
</section>

<motech-sidebar title="{{ 'email.logging.filters' | translate }}">
    <form>
        <fieldset>
            <legend>{{ 'email.logging.search' | translate }}</legend>
            <div class="form-group">
                <label for="logsSubject" class="placeholder">{{'email.logging.search' | translate }}</label>
                <input id="logsSubject" type="text" ng-model="search.subject" />
            </div>
        </fieldset>
        <fieldset>
            <legend>{{ 'email.logging.creationDate' | translate }}</legend>
            <div class="form-group">
                <label for="timeFrom" class="placeholder">{{'email.logging.fromAddress' | translate}}</label>
                <input id="timeFrom" date-picker ng-model="search.timeFrom" max="search.timeTo" type="datetime" />
            </div>
            <div class="form-group">
                <label for="timeTo" class="placeholder">{{'email.logging.toAddress' | translate}}</label>
                <input id="timeTo" date-picker ng-model="search.timeTo" min="search.timeFrom" type="datetime"  />
            </div>
        </fieldset>
        <fieldset>
            <legend>{{'email.logging.disposition' | translate }}</legend>
            <div class="input-group">
                <label class="checkbox">
                    <input type="checkbox" checklist-model="search.deliveryStatus" checklist-value="'ERROR'" />
                    {{'email.logging.error' | translate}}
                </label>
                <label class="checkbox">
                    <input type="checkbox" checklist-model="search.deliveryStatus" checklist-value="'SENT'" />
                    {{'email.logging.sent' | translate}}
                </label>            
                <label class="checkbox">
                    <input type="checkbox" checklist-model="search.deliveryStatus" checklist-value="'RECEIVED'" />
                    {{'email.logging.received' | translate}}
                </label>
            </div>
        </fieldset>
    </form>
</motech-sidebar>